<!DOCTYPE html>
<html>
<head>
  <title>Interactive Supply Chain Network</title>
  <script type="text/javascript" src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
  <style type="text/css">
    #mynetwork {
      width: 100%;
      height: 800px;
      border: 1px solid lightgray;
      background-color: #f9f9f9;
    }
    body { font-family: Arial, sans-serif; }
    .legend {
        margin-bottom: 10px; padding: 10px;
        background: #eee; border-radius: 5px;
    }
  </style>
</head>
<body>

<h2>Supply Chain Network: Rayong & Saraburi</h2>

<div class="legend">
    <strong>Legend:</strong>
    <span style="color:#C00000">■ Main Hubs</span> | 
    <span style="color:#0070C0">■ Modern Trade (MT)</span> | 
    <span style="color:#00B050">● Traditional Trade (TT)</span> <br>
    <strong>Lines:</strong> 
    <span style="color:#C00000; font-weight:bold;">── Interplant</span> | 
    <span style="color:black">── Direct</span> | 
    <span style="color:#ED7D31">── Multi-Combine</span> | 
    <span style="color:gray; border-bottom: 1px dashed gray;">-- Backhaul</span>
</div>

<div id="mynetwork"></div>

<script type="text/javascript">
  // 1. Define Nodes (The shapes)
  var nodes = new vis.DataSet([
    {id: '7101', label: 'Rayong Plant & DC\n(7101)', shape: 'box', color: '#C00000', font: {color: 'white', size: 20}, margin: 20},
    {id: '7102', label: 'Saraburi Plant & DC\n(7102)', shape: 'box', color: '#C00000', font: {color: 'white', size: 20}, margin: 20},
    {id: 'MT1', label: 'Modern Trade\n(MT)', shape: 'box', color: '#0070C0', font: {color: 'white'}},
    {id: 'MT2', label: 'Modern Trade\n(MT)', shape: 'box', color: '#0070C0', font: {color: 'white'}},
    {id: 'TT1', label: 'Traditional Trade\n(TT)', shape: 'dot', color: '#00B050', font: {color: 'white'}},
    {id: 'TT2', label: 'Traditional Trade\n(TT)', shape: 'dot', color: '#00B050', font: {color: 'white'}},
    {id: 'MT3', label: 'Modern Trade\n(MT)', shape: 'box', color: '#0070C0', font: {color: 'white'}},
    {id: 'TT3', label: 'Traditional Trade\n(TT)', shape: 'dot', color: '#00B050', font: {color: 'white'}},
    {id: 'TT4', label: 'Traditional Trade\n(TT)', shape: 'dot', color: '#00B050', font: {color: 'white'}}
  ]);

  // 2. Define Edges (The lines)
  var edges = new vis.DataSet([
    {from: '7101', to: '7102', color: {color:'#C00000'}, width: 4, arrows: 'to, from', label: 'Interplant Transfer'},
    {from: '7101', to: 'MT1', color: {color:'black'}, arrows: 'to', label: 'Direct'},
    {from: '7101', to: 'TT1', color: {color:'black'}, arrows: 'to'},
    {from: '7101', to: 'MT2', color: {color:'#ED7D31'}, width: 2, arrows: 'to', label: 'Multi-Combine'},
    {from: 'MT2', to: 'TT2', color: {color:'#ED7D31'}, width: 2, arrows: 'to'},
    {from: '7102', to: 'MT3', color: {color:'black'}, arrows: 'to', label: 'Direct'},
    {from: '7102', to: 'TT3', color: {color:'black'}, arrows: 'to'},
    {from: 'TT4', to: '7102', color: {color:'gray'}, dashes: true, arrows: 'to', label: 'Raw Material Backhaul'}
  ]);

  // 3. Render the Network
  var container = document.getElementById('mynetwork');
  var data = { nodes: nodes, edges: edges };
  var options = {
    physics: {
        enabled: true,
        solver: 'forceAtlas2Based',
        forceAtlas2Based: { gravitationalConstant: -100, springLength: 200, springConstant: 0.18 },
        stabilization: {iterations: 150}
    },
    layout: {
        hierarchical: { enabled: true, direction: 'UD', sortMethod: 'directed', levelSeparation: 150, nodeSpacing: 200 }
    }
  };
  var network = new vis.Network(container, data, options);
</script>

</body>
</html>
